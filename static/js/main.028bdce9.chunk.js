(this["webpackJsonpwine-api"]=this["webpackJsonpwine-api"]||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},120:function(e,t,a){},123:function(e,t,a){},125:function(e,t,a){},127:function(e,t,a){"use strict";a.r(t);var c=a(0),l=a.n(c),n=a(7),o=a.n(n);a(92),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var r=a(15),i=a(16),s=a(21),m=a(17),u=a(22),g=(a(93),a(83)),S=a(27),p=a(85),d=a(153),h=a(44),f=a(151),v=a(152),E=a(147),b=a(148),y=a(76),I=a(149),w=a(150),k=(a(94),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).state={checkVisibility:a.props.checkVisibility,cartState:[]},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"checkVisibility",value:function(){console.log("storage check")}},{key:"componentDidMount",value:function(){this.checkVisibility(),window.addEventListener(this.userName,this.checkVisibility.bind(this))}},{key:"render",value:function(e){var t=this,a=localStorage.getItem("userName");console.log(a);var c=JSON.parse(localStorage.getItem("userCart"))||[],n=function(){t.setState({cartState:c})},o=l.a.createElement(d.a,null,l.a.createElement(d.a.Title,{as:"h2"},"Cart"),l.a.createElement(d.a.Content,null,c.map((function(e,a){return l.a.createElement("div",{key:a},l.a.createElement("div",null,l.a.createElement("h4",null,e.wine),l.a.createElement("li",null,e.vintage),l.a.createElement("li",null,e.regions[0],", ",e.country),l.a.createElement("li",null,"Score: ",e.score)),l.a.createElement(h.a,{onClick:function(){var e=Object(p.a)(t.state.cartState);e.splice(a,1),c=e,n()},variant:"danger"},"Delete"),l.a.createElement("hr",null))}))));return l.a.createElement("div",{className:"BSNavWrapper"},l.a.createElement(f.a,{bg:"dark",variant:"dark"},l.a.createElement(f.a.Brand,{href:"".concat("/wine-api","/")},"WineScoresAPI"),a?l.a.createElement(l.a.Fragment,null,l.a.createElement(v.a,{className:"mr-auto"},l.a.createElement(E.a,{title:"Score",id:"basic-nav-dropdown"},l.a.createElement(E.a.Item,{onClick:this.props.scoreStateDesc,href:"".concat("/wine-api","/scoredes")},"Descending"),l.a.createElement(E.a.Item,{onClick:this.props.scoreStateAsc,href:"".concat("/wine-api","/scoredes")},"Ascending")),l.a.createElement(v.a.Link,{href:"".concat("/wine-api","/scoredes")},"Filter")),l.a.createElement(b.a,{inline:!0},l.a.createElement(y.a,{type:"text",placeholder:"Search",className:"mr-sm-2"}),l.a.createElement(h.a,{variant:"outline-info"},"Search")),l.a.createElement(I.a,{trigger:"click",placement:"bottom",overlay:o},l.a.createElement(w.a,{onClick:n,style:{fontSize:"35px",cursor:"pointer",margin:"0 15px",color:"rgba(255, 255, 255, 0.7)"}}))):null))}}]),t}(c.Component)),N=(a(100),a(146)),j=a(43),O=(a(101),function(){var e=l.a.useState(localStorage.getItem("userName")||""),t=Object(j.a)(e,2),a=t[0],c=t[1];l.a.useEffect((function(){localStorage.setItem("userName",a)}),[a]);return l.a.createElement("div",{className:"welcomeDiv"},l.a.createElement("h1",null,"Please input a name to start"),l.a.createElement("input",{type:"text",onChange:function(e){return c(e.target.value)}}))}),A=a(28),C=a.n(A),D=a(40),W=a(144),x=a(41),L=a.n(x),P=(a(120),"https://api.globalwinescore.com/globalwinescores/latest/?limit=20"),T="Token 8efc75bee64435eac7e1a086c78f1d58ba7bbf36",z=function(e){function t(){var e,a;Object(r.a)(this,t);for(var c=arguments.length,l=new Array(c),n=0;n<c;n++)l[n]=arguments[n];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={wines:[],wineArray:[],visible:!1,loading:!0},a.componentDidMount=Object(D.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.a.get("".concat(P),{headers:{Accept:"application/json",Authorization:T}}).then((function(e){console.log(e.data.results),a.setState({wines:e.data.results})})).then((function(){var e=Array.from(a.state.wines);a.setState({wineArray:e})}));case 2:case"end":return e.stop()}}),e)}))),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"wineListWrapper"},this.state.wineArray.length?null:l.a.createElement("div",{className:"spinnerWl"},l.a.createElement(W.a,{animation:"border",role:"status"}),l.a.createElement("p",null,"Loading...")),this.state.wineArray.map((function(t){return l.a.createElement("div",{className:"wineTile",key:t.score+t.wine_id},e.state.visible?null:l.a.createElement("div",null,l.a.createElement("h2",{className:"wineName"},t.wine),l.a.createElement("li",{className:"wineVintage"},t.vintage),l.a.createElement("li",{className:"wineLocation"},t.regions[0],", ",t.country),l.a.createElement("div",{className:"bottomContainer"},l.a.createElement("div",{className:"reviewDiv"},l.a.createElement("li",null,"Total Reviews: ",t.journalist_count)),l.a.createElement("div",{className:"scoreDiv"},l.a.createElement("li",null,"Score: ",t.score)))))})))}}]),t}(c.Component),V=(a(121),function(e){function t(){var e,a;Object(r.a)(this,t);for(var c=arguments.length,l=new Array(c),n=0;n<c;n++)l[n]=arguments[n];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={visible:"",welcomeVis:!0},a.checkRender=function(){localStorage.getItem("myValueInLocalStorage")?a.setState({visible:!0}):alert("Please enter a Name")},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=localStorage.getItem("userName");return l.a.createElement("div",{className:"App"},t?null:l.a.createElement(O,null),t?l.a.createElement("div",{className:"appWelcomeDiv"},l.a.createElement("h1",null,"Welcome ",t),l.a.createElement("h2",null,"Here are the latest Wine Scores")):null,t?l.a.createElement(z,null):null,t?null:l.a.createElement(N.a,{href:"".concat("/wine-api","/"),className:"enterBtn",variant:"contained",color:"default",onClick:function(){e.checkRender()}},"Enter"))}}]),t}(c.Component)),B=(a(123),function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"notFoundWrapper"},l.a.createElement("h1",null,"404"),l.a.createElement("h3",null,"Page Not Found :("))}}]),t}(c.Component)),F=(a(124),a(154)),J=a(145),G=a(82),R=(a(125),localStorage.getItem("scoreLocalStorage")),M="https://api.globalwinescore.com/globalwinescores/latest/?ordering=".concat(R,"&limit=20"),Y="Token 8efc75bee64435eac7e1a086c78f1d58ba7bbf36";var _=function(e){var t=Object(c.useState)([]),a=Object(j.a)(t,2),n=a[0],o=a[1],r=Object(c.useState)(!0),i=Object(j.a)(r,2),s=i[0],m=i[1],u=(localStorage.getItem("yearSelect"),JSON.parse(localStorage.getItem("userCart"))||[]);Object(c.useEffect)((function(){localStorage.setItem("colorSelect",""),localStorage.setItem("scoreSelect",""),localStorage.setItem("yearSelect",""),function(){var e=Object(D.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L()("".concat(M),{headers:{Accept:"application/json",Authorization:Y}});case 2:t=e.sent,o(t.data.results),m(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]);var g=function(){localStorage.setItem("yearSelect",""),console.log(M),function(){var e=Object(D.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L()("".concat(M),{headers:{Accept:"application/json",Authorization:Y}});case 2:t=e.sent,o(t.data.results),m(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()};return l.a.createElement("div",null,s?l.a.createElement("div",{className:"spinner"},l.a.createElement(W.a,{animation:"border",role:"status"}),l.a.createElement("p",null,"Loading...")):null,s?null:l.a.createElement("div",{className:"sortMenuWrapper"},l.a.createElement(F.a,{className:"scoreSortWrapper",type:"radio",name:"options"},l.a.createElement(J.a.Text,{type:"number",className:"dateInput",id:"inputGroup-sizing-default"},"Score:"," "),l.a.createElement(G.a,{onClick:function(){return localStorage.setItem("scoreSelect","-score")},variant:"outline-dark",value:1},"Descending"),l.a.createElement(G.a,{onClick:function(){return localStorage.setItem("scoreSelect","score")},variant:"outline-dark",value:2},"Ascending")),l.a.createElement(F.a,{className:"colorSortWrapper",type:"radio",name:"options"},l.a.createElement(J.a.Text,{type:"number",className:"dateInput",id:"inputGroup-sizing-default"},"Color:"," "),l.a.createElement(G.a,{onClick:function(){return localStorage.setItem("colorSelect","red")},variant:"outline-dark",value:1},"Red"),l.a.createElement(G.a,{onClick:function(){return localStorage.setItem("colorSelect","white")},variant:"outline-dark",value:2},"White"),l.a.createElement(G.a,{onClick:function(){return localStorage.setItem("colorSelect","pink")},variant:"outline-dark",value:3},"Pink")),l.a.createElement(J.a,{lg:"2",className:"dateSortWrapper"},l.a.createElement(J.a.Prepend,null,l.a.createElement(J.a.Text,{type:"number",className:"dateInput",id:"inputGroup-sizing-default"},"Year:"," ")),l.a.createElement(y.a,{type:"number",onChange:function(e){localStorage.setItem("yearSelect",e.target.value)},placeholder:"'eg: 1981'","aria-label":"Default","aria-describedby":"inputGroup-sizing-default"}),l.a.createElement(b.a.Control.Feedback,{type:"invalid"},"Please provide a valid year.")),l.a.createElement(h.a,{onClick:function(){m(!0),localStorage.getItem("yearSelect")||localStorage.getItem("scoreSelect")||localStorage.getItem("colorSelect")||alert("Please enter search options to continue"),4===localStorage.getItem("yearSelect").length||0===localStorage.getItem("yearSelect").length||localStorage.getItem("scoreSelect")||localStorage.getItem("colorSelect")||alert("Please enter a valid Year"),4===localStorage.getItem("yearSelect").length&&localStorage.getItem("scoreSelect")&&localStorage.getItem("colorSelect")&&(M="https://api.globalwinescore.com/globalwinescores/latest/?limit=20&ordering=".concat(localStorage.getItem("scoreSelect"),"&limit=20&vintage=").concat(localStorage.getItem("yearSelect"),"&color=").concat(localStorage.getItem("colorSelect")),console.log("all There"),console.log(M),g()),4===localStorage.getItem("yearSelect").length&&localStorage.getItem("scoreSelect")&&!localStorage.getItem("colorSelect")&&(M="https://api.globalwinescore.com/globalwinescores/latest/?limit=20&ordering=".concat(localStorage.getItem("scoreSelect"),"&limit=20&vintage=").concat(localStorage.getItem("yearSelect")),console.log("year and score"),console.log(M),g()),4===localStorage.getItem("yearSelect").length&&!localStorage.getItem("scoreSelect")&&localStorage.getItem("colorSelect")&&(M="https://api.globalwinescore.com/globalwinescores/latest/?limit=20&color=".concat(localStorage.getItem("colorSelect"),"&limit=20&vintage=").concat(localStorage.getItem("yearSelect")),console.log("year and color"),console.log(M),g()),4!==localStorage.getItem("yearSelect").length||localStorage.getItem("scoreSelect")||localStorage.getItem("colorSelect")||(M="https://api.globalwinescore.com/globalwinescores/latest/?limit=20&vintage=".concat(localStorage.getItem("yearSelect")),console.log(localStorage.getItem("scoreSelect")),console.log("year only"),console.log(M),g()),localStorage.getItem("scoreSelect")&&(4!==localStorage.getItem("yearSelect").length||localStorage.getItem("yearSelect").length<=3)&&!localStorage.getItem("colorSelect")&&(M="https://api.globalwinescore.com/globalwinescores/latest/?limit=20&ordering=".concat(localStorage.getItem("scoreSelect")),console.log("score only"),console.log(M),g()),localStorage.getItem("scoreSelect")&&(4!==localStorage.getItem("yearSelect").length||localStorage.getItem("yearSelect").length<=3)&&localStorage.getItem("colorSelect")&&(M="https://api.globalwinescore.com/globalwinescores/latest/?limit=20&ordering=".concat(localStorage.getItem("scoreSelect"),"&color=").concat(localStorage.getItem("colorSelect")),g()),!localStorage.getItem("scoreSelect")&&(4!==localStorage.getItem("yearSelect").length||localStorage.getItem("yearSelect").length<=3)&&localStorage.getItem("colorSelect")&&(M="https://api.globalwinescore.com/globalwinescores/latest/?limit=20&color=".concat(localStorage.getItem("colorSelect")),console.log("color only"),console.log(M),g())},className:"sortSubmitBtn",variant:"dark"},"Submit")),s?null:l.a.createElement("div",{className:"scoreWrapper"},n.map((function(e,t){return l.a.createElement("li",{className:"scoreList",key:t},l.a.createElement("span",null,l.a.createElement("p",null,e.wine),l.a.createElement("p",null,e.score," "),l.a.createElement("p",null,e.color),l.a.createElement("p",null,e.vintage),l.a.createElement(h.a,{className:"addButton",onClick:function(){u.push(e),localStorage.setItem("userCart",JSON.stringify(u))},variant:"success"},"Add")))}))))},H=function(e){function t(){var e,a;Object(r.a)(this,t);for(var c=arguments.length,l=new Array(c),n=0;n<c;n++)l[n]=arguments[n];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={routerState:!0,title:"asdfasdfasdf",scoreAscDes:localStorage.getItem("scoreLocalStorage")||"-score",yearSelectionChild:""},a.scoreStateDesc=function(){a.setState({scoreAscDes:"-score"},(function(){localStorage.setItem("scoreLocalStorage",a.state.scoreAscDes)}))},a.scoreStateAsc=function(){a.setState({scoreAscDes:"score"},(function(){localStorage.setItem("scoreLocalStorage",a.state.scoreAscDes)}))},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"AppWrapper"},l.a.createElement(g.a,null,l.a.createElement(k,{scoreAscDes:this.state.scoreAscDes,scoreStateDesc:this.scoreStateDesc.bind(this,"new something"),scoreStateAsc:this.scoreStateAsc.bind(this,"new something")}),l.a.createElement(S.c,null,l.a.createElement(S.a,{exact:!0,path:"".concat("/wine-api","/"),component:V}),l.a.createElement(S.a,{exact:!0,path:"".concat("/wine-api","/scoredes"),component:function(e){return l.a.createElement(_,e)}}),l.a.createElement(S.a,{component:B}))))}}]),t}(c.Component);o.a.render(l.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},87:function(e,t,a){e.exports=a(127)},92:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){}},[[87,1,2]]]);
//# sourceMappingURL=main.028bdce9.chunk.js.map