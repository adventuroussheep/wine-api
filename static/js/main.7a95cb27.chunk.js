(this["webpackJsonpwine-api"]=this["webpackJsonpwine-api"]||[]).push([[0],{113:function(e,t,a){},118:function(e,t,a){},119:function(e,t,a){},123:function(e,t,a){},125:function(e,t,a){},127:function(e,t,a){"use strict";a.r(t);var l=a(0),c=a.n(l),n=a(7),r=a.n(n),o=(a(92),a(15)),s=a(16),i=a(21),m=a(17),u=a(22),g=(a(93),a(146)),S=a(43),p=(a(94),function(){var e=c.a.useState(localStorage.getItem("userName")||""),t=Object(S.a)(e,2),a=t[0],l=t[1];c.a.useEffect((function(){localStorage.setItem("userName",a)}),[a]);return c.a.createElement("div",{className:"welcomeDiv"},c.a.createElement("h1",null,"Please input a name to start"),c.a.createElement("input",{type:"text",onChange:function(e){return l(e.target.value)}}))}),d=a(28),h=a.n(d),f=a(39),v=a(144),E=a(40),b=a.n(E),y=(a(113),"globalwinescores/latest/?limit=20"),I="Token 8efc75bee64435eac7e1a086c78f1d58ba7bbf36",w=function(e){function t(){var e,a;Object(o.a)(this,t);for(var l=arguments.length,c=new Array(l),n=0;n<l;n++)c[n]=arguments[n];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).state={wines:[],wineArray:[],visible:!1,loading:!0},a.componentDidMount=Object(f.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("".concat(y),{headers:{Accept:"application/json",Authorization:I}}).then((function(e){console.log(e.data.results),a.setState({wines:e.data.results})})).then((function(){var e=Array.from(a.state.wines);a.setState({wineArray:e})}));case 2:case"end":return e.stop()}}),e)}))),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"wineListWrapper"},this.state.wineArray.length?null:c.a.createElement("div",{className:"spinnerWl"},c.a.createElement(v.a,{animation:"border",role:"status"}),c.a.createElement("p",null,"Loading...")),this.state.wineArray.map((function(t){return c.a.createElement("div",{className:"wineTile",key:t.score+t.wine_id},e.state.visible?null:c.a.createElement("div",null,c.a.createElement("h2",{className:"wineName"},t.wine),c.a.createElement("li",{className:"wineVintage"},t.vintage),c.a.createElement("li",{className:"wineLocation"},t.regions[0],", ",t.country),c.a.createElement("div",{className:"bottomContainer"},c.a.createElement("div",{className:"reviewDiv"},c.a.createElement("li",null,"Total Reviews: ",t.journalist_count)),c.a.createElement("div",{className:"scoreDiv"},c.a.createElement("li",null,"Score: ",t.score)))))})))}}]),t}(l.Component),k=(a(114),function(e){function t(){var e,a;Object(o.a)(this,t);for(var l=arguments.length,c=new Array(l),n=0;n<l;n++)c[n]=arguments[n];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).state={visible:"",welcomeVis:!0},a.checkRender=function(){localStorage.getItem("myValueInLocalStorage")?a.setState({visible:!0}):alert("Please enter a Name")},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=localStorage.getItem("userName");return c.a.createElement("div",{className:"App"},t?null:c.a.createElement(p,null),t?c.a.createElement("div",{className:"appWelcomeDiv"},c.a.createElement("h1",null,"Welcome ",t),c.a.createElement("h2",null,"Here are the latest Wine Scores")):null,t?c.a.createElement(w,null):null,t?null:c.a.createElement(g.a,{href:"/",className:"enterBtn",variant:"contained",color:"default",onClick:function(){e.checkRender()}},"Enter"))}}]),t}(l.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(118);var N=a(83),j=a(27),O=a(85),A=a(153),C=a(45),D=a(151),W=a(152),x=a(147),L=a(148),P=a(79),T=a(149),z=a(150),V=(a(119),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={checkVisibility:a.props.checkVisibility,cartState:[]},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"checkVisibility",value:function(){console.log("storage check")}},{key:"componentDidMount",value:function(){this.checkVisibility(),window.addEventListener(this.userName,this.checkVisibility.bind(this))}},{key:"render",value:function(e){var t=this,a=localStorage.getItem("userName");console.log(a);var l=JSON.parse(localStorage.getItem("userCart"))||[],n=function(){t.setState({cartState:l})},r=c.a.createElement(A.a,null,c.a.createElement(A.a.Title,{as:"h2"},"Cart"),c.a.createElement(A.a.Content,null,l.map((function(e,a){return c.a.createElement("div",{key:a},c.a.createElement("div",null,c.a.createElement("h4",null,e.wine),c.a.createElement("li",null,e.vintage),c.a.createElement("li",null,e.regions[0],", ",e.country),c.a.createElement("li",null,"Score: ",e.score)),c.a.createElement(C.a,{onClick:function(){var e=Object(O.a)(t.state.cartState);e.splice(a,1),l=e,n()},variant:"danger"},"Delete"),c.a.createElement("hr",null))}))));return c.a.createElement("div",{className:"BSNavWrapper"},c.a.createElement(D.a,{bg:"dark",variant:"dark"},c.a.createElement(D.a.Brand,{href:"/"},"WineScoresAPI"),a?c.a.createElement(c.a.Fragment,null,c.a.createElement(W.a,{className:"mr-auto"},c.a.createElement(x.a,{title:"Score",id:"basic-nav-dropdown"},c.a.createElement(x.a.Item,{onClick:this.props.scoreStateDesc,href:"scoredes"},"Descending"),c.a.createElement(x.a.Item,{onClick:this.props.scoreStateAsc,href:"scoredes"},"Ascending")),c.a.createElement(W.a.Link,{href:"scoredes"},"Filter")),c.a.createElement(L.a,{inline:!0},c.a.createElement(P.a,{type:"text",placeholder:"Search",className:"mr-sm-2"}),c.a.createElement(C.a,{variant:"outline-info"},"Search")),c.a.createElement(T.a,{trigger:"click",placement:"bottom",overlay:r},c.a.createElement(z.a,{onClick:n,style:{fontSize:"35px",cursor:"pointer",margin:"0 15px",color:"rgba(255, 255, 255, 0.7)"}}))):null))}}]),t}(l.Component)),B=(a(123),function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"notFoundWrapper"},c.a.createElement("h1",null,"404"),c.a.createElement("h3",null,"Page Not Found :("))}}]),t}(l.Component)),F=(a(124),a(154)),J=a(145),G=a(82),R=(a(125),localStorage.getItem("scoreLocalStorage")),M="globalwinescores/latest/?ordering=".concat(R,"&limit=20"),Y="Token 8efc75bee64435eac7e1a086c78f1d58ba7bbf36";var _=function(e){var t=Object(l.useState)([]),a=Object(S.a)(t,2),n=a[0],r=a[1],o=Object(l.useState)(!0),s=Object(S.a)(o,2),i=s[0],m=s[1],u=(localStorage.getItem("yearSelect"),JSON.parse(localStorage.getItem("userCart"))||[]);Object(l.useEffect)((function(){localStorage.setItem("colorSelect",""),localStorage.setItem("scoreSelect",""),localStorage.setItem("yearSelect",""),function(){var e=Object(f.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b()("".concat(M),{headers:{Accept:"application/json",Authorization:Y}});case 2:t=e.sent,r(t.data.results),m(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]);var g=function(){localStorage.setItem("yearSelect",""),console.log(M),function(){var e=Object(f.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b()("".concat(M),{headers:{Accept:"application/json",Authorization:Y}});case 2:t=e.sent,r(t.data.results),m(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()};return c.a.createElement("div",null,i?c.a.createElement("div",{className:"spinner"},c.a.createElement(v.a,{animation:"border",role:"status"}),c.a.createElement("p",null,"Loading...")):null,i?null:c.a.createElement("div",{className:"sortMenuWrapper"},c.a.createElement(F.a,{className:"scoreSortWrapper",type:"radio",name:"options"},c.a.createElement(J.a.Text,{type:"number",className:"dateInput",id:"inputGroup-sizing-default"},"Score:"," "),c.a.createElement(G.a,{onClick:function(){return localStorage.setItem("scoreSelect","-score")},variant:"outline-dark",value:1},"Descending"),c.a.createElement(G.a,{onClick:function(){return localStorage.setItem("scoreSelect","score")},variant:"outline-dark",value:2},"Ascending")),c.a.createElement(F.a,{className:"colorSortWrapper",type:"radio",name:"options"},c.a.createElement(J.a.Text,{type:"number",className:"dateInput",id:"inputGroup-sizing-default"},"Color:"," "),c.a.createElement(G.a,{onClick:function(){return localStorage.setItem("colorSelect","red")},variant:"outline-dark",value:1},"Red"),c.a.createElement(G.a,{onClick:function(){return localStorage.setItem("colorSelect","white")},variant:"outline-dark",value:2},"White"),c.a.createElement(G.a,{onClick:function(){return localStorage.setItem("colorSelect","pink")},variant:"outline-dark",value:3},"Pink")),c.a.createElement(J.a,{lg:"2",className:"dateSortWrapper"},c.a.createElement(J.a.Prepend,null,c.a.createElement(J.a.Text,{type:"number",className:"dateInput",id:"inputGroup-sizing-default"},"Year:"," ")),c.a.createElement(P.a,{type:"number",onChange:function(e){localStorage.setItem("yearSelect",e.target.value)},placeholder:"'eg: 1981'","aria-label":"Default","aria-describedby":"inputGroup-sizing-default"}),c.a.createElement(L.a.Control.Feedback,{type:"invalid"},"Please provide a valid year.")),c.a.createElement(C.a,{onClick:function(){m(!0),localStorage.getItem("yearSelect")||localStorage.getItem("scoreSelect")||localStorage.getItem("colorSelect")||alert("Please enter search options to continue"),4===localStorage.getItem("yearSelect").length||0===localStorage.getItem("yearSelect").length||localStorage.getItem("scoreSelect")||localStorage.getItem("colorSelect")||alert("Please enter a valid Year"),4===localStorage.getItem("yearSelect").length&&localStorage.getItem("scoreSelect")&&localStorage.getItem("colorSelect")&&(M="globalwinescores/latest/?limit=20&ordering=".concat(localStorage.getItem("scoreSelect"),"&limit=20&vintage=").concat(localStorage.getItem("yearSelect"),"&color=").concat(localStorage.getItem("colorSelect")),console.log("all There"),console.log(M),g()),4===localStorage.getItem("yearSelect").length&&localStorage.getItem("scoreSelect")&&!localStorage.getItem("colorSelect")&&(M="globalwinescores/latest/?limit=20&ordering=".concat(localStorage.getItem("scoreSelect"),"&limit=20&vintage=").concat(localStorage.getItem("yearSelect")),console.log("year and score"),console.log(M),g()),4===localStorage.getItem("yearSelect").length&&!localStorage.getItem("scoreSelect")&&localStorage.getItem("colorSelect")&&(M="globalwinescores/latest/?limit=20&color=".concat(localStorage.getItem("colorSelect"),"&limit=20&vintage=").concat(localStorage.getItem("yearSelect")),console.log("year and color"),console.log(M),g()),4!==localStorage.getItem("yearSelect").length||localStorage.getItem("scoreSelect")||localStorage.getItem("colorSelect")||(M="globalwinescores/latest/?limit=20&vintage=".concat(localStorage.getItem("yearSelect")),console.log(localStorage.getItem("scoreSelect")),console.log("year only"),console.log(M),g()),localStorage.getItem("scoreSelect")&&(4!==localStorage.getItem("yearSelect").length||localStorage.getItem("yearSelect").length<=3)&&!localStorage.getItem("colorSelect")&&(M="globalwinescores/latest/?limit=20&ordering=".concat(localStorage.getItem("scoreSelect")),console.log("score only"),console.log(M),g()),localStorage.getItem("scoreSelect")&&(4!==localStorage.getItem("yearSelect").length||localStorage.getItem("yearSelect").length<=3)&&localStorage.getItem("colorSelect")&&(M="globalwinescores/latest/?limit=20&ordering=".concat(localStorage.getItem("scoreSelect"),"&color=").concat(localStorage.getItem("colorSelect")),g()),!localStorage.getItem("scoreSelect")&&(4!==localStorage.getItem("yearSelect").length||localStorage.getItem("yearSelect").length<=3)&&localStorage.getItem("colorSelect")&&(M="globalwinescores/latest/?limit=20&color=".concat(localStorage.getItem("colorSelect")),console.log("color only"),console.log(M),g())},className:"sortSubmitBtn",variant:"dark"},"Submit")),i?null:c.a.createElement("div",{className:"scoreWrapper"},n.map((function(e,t){return c.a.createElement("li",{className:"scoreList",key:t},c.a.createElement("span",null,c.a.createElement("p",null,e.wine),c.a.createElement("p",null,e.score," "),c.a.createElement("p",null,e.color),c.a.createElement("p",null,e.vintage),c.a.createElement(C.a,{className:"addButton",onClick:function(){u.push(e),localStorage.setItem("userCart",JSON.stringify(u))},variant:"success"},"Add")))}))))},H=function(e){function t(){var e,a;Object(o.a)(this,t);for(var l=arguments.length,c=new Array(l),n=0;n<l;n++)c[n]=arguments[n];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).state={routerState:!0,title:"asdfasdfasdf",scoreAscDes:localStorage.getItem("scoreLocalStorage")||"-score",yearSelectionChild:""},a.scoreStateDesc=function(){a.setState({scoreAscDes:"-score"},(function(){localStorage.setItem("scoreLocalStorage",a.state.scoreAscDes)}))},a.scoreStateAsc=function(){a.setState({scoreAscDes:"score"},(function(){localStorage.setItem("scoreLocalStorage",a.state.scoreAscDes)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"AppWrapper"},c.a.createElement(N.a,null,c.a.createElement(V,{scoreAscDes:this.state.scoreAscDes,scoreStateDesc:this.scoreStateDesc.bind(this,"new something"),scoreStateAsc:this.scoreStateAsc.bind(this,"new something")}),c.a.createElement(j.c,null,c.a.createElement(j.a,{exact:!0,path:"".concat("/wine-api","/"),component:k}),c.a.createElement(j.a,{exact:!0,path:"".concat("/wine-api","/scoredes"),component:function(e){return c.a.createElement(_,e)}}),c.a.createElement(j.a,{component:B}))))}}]),t}(l.Component);r.a.render(c.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},87:function(e,t,a){e.exports=a(127)},92:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){}},[[87,1,2]]]);
//# sourceMappingURL=main.7a95cb27.chunk.js.map